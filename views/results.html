{% extends 'layout.html' %}

{% block title %}Results{% endblock %}

{% block content %}
	<h1>Get results</h1>
	<form name="resultForm" action="/results" method="post">
		<p>
			<label for='questionId'>Filter by question:</label>
			<select id="questionId" name='questionId'>
				<option value="">all questions</option>
    			{% for question in vm.questions %}
				<option	value="{{ question._id.toString()}}">{{ question.questionTitle }}</option>
    			{% endfor %}
			</select>
		</p>
		<p>
			<label for='tagString'>Tags:</label>
			<input type="text" id="tagString" name="tagString" value="{{vm.tagString}}" />
		</p>
		<p>
			<label for='from'>From date:</label>
			<input type="date" id="from" name="from" value="{{vm.from}}" />
		</p>
		<p>
			<label for='to'>To date:</label>
			<input type="date" id="to" name="to" value="{{vm.to}}" />
		</p>
		<input type="submit" value="Show results">
	</form>
	<hr />
	<ul>
		{% for vote in vm.resultVotes %}
		<li>{{ vote.voteValue }}</li> <!-- @ {{ vote.created_at.toString() }} (Comment: {{ vote.comment }}) -->
		{%endfor%}
	</ul>
{% endblock %}